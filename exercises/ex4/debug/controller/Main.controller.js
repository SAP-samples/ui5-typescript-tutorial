"use strict";sap.ui.define(["./BaseController","sap/ui/model/json/JSONModel","nominatim-client","sap/m/MessageBox"],function(e,t,n,a){function o(e){return e&&e.__esModule&&typeof e.default!=="undefined"?e.default:e}const i=o(e);const l=i.extend("com.myorg.myapp.controller.Main",{onInit:function e(){const n=new t;this.setModel(n);void this.loadWeatherData()},loadWeatherData:async function e(){let t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"49.31";let n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"8.64";let a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"Walldorf";const o=await fetch(`https://api.open-meteo.com/v1/forecast?latitude=${t}&longitude=${n}&current_weather=true`);const i=await o.json();i.placeName=a;this.getModel().setData(i)},locationChange:function e(t){const o=t.getParameters().value;n.createClient({useragent:"UI5 TypeScript Tutorial App",referer:"https://localhost"}).search({q:o}).then(e=>{if(e.length>0){return this.loadWeatherData(e[0].lat,e[0].lon,e[0].display_name)}else{a.alert(`Location ${o} not found`,{actions:a.Action.CLOSE})}}).catch(()=>{a.alert(`Failure while searching ${o}`,{actions:a.Action.CLOSE})})}});return l});
//# sourceMappingURL=Main.controller.js.map