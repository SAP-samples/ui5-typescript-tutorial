var addSorting=function(){"use strict";var e,t={index:0,desc:false};function n(){return document.querySelector(".coverage-summary")}function r(){return n().querySelector("thead tr")}function o(){return n().querySelector("tbody")}function a(e){return r().querySelectorAll("th")[e]}function l(){const e=document.getElementById("fileSearch").value;const t=document.getElementsByTagName("tbody")[0].children;for(let n=0;n<t.length;n++){const r=t[n];if(r.textContent.toLowerCase().includes(e.toLowerCase())){r.style.display=""}else{r.style.display="none"}}}function c(){var e=document.getElementById("filterTemplate");var t=e.content.cloneNode(true);t.getElementById("fileSearch").oninput=l;e.parentElement.appendChild(t)}function u(){var e=r().querySelectorAll("th"),t,n=[],o,a;for(a=0;a<e.length;a+=1){t=e[a];o={key:t.getAttribute("data-col"),sortable:!t.getAttribute("data-nosort"),type:t.getAttribute("data-type")||"string"};n.push(o);if(o.sortable){o.defaultDescSort=o.type==="number";t.innerHTML=t.innerHTML+'<span class="sorter"></span>'}}return n}function d(t){var n=t.querySelectorAll("td"),r,o,a={},l,c;for(l=0;l<n.length;l+=1){r=n[l];o=e[l];c=r.getAttribute("data-value");if(o.type==="number"){c=Number(c)}a[o.key]=c}return a}function i(){var e=o().querySelectorAll("tr"),t;for(t=0;t<e.length;t+=1){e[t].data=d(e[t])}}function s(t,n){var r=e[t].key,o=function(e,t){e=e.data[r];t=t.data[r];return e<t?-1:e>t?1:0},a=o,l=document.querySelector(".coverage-summary tbody"),c=l.querySelectorAll("tr"),u=[],d;if(n){a=function(e,t){return-1*o(e,t)}}for(d=0;d<c.length;d+=1){u.push(c[d]);l.removeChild(c[d])}u.sort(a);for(d=0;d<u.length;d+=1){l.appendChild(u[d])}}function f(){var e=a(t.index),n=e.className;n=n.replace(/ sorted$/,"").replace(/ sorted-desc$/,"");e.className=n}function y(){a(t.index).className+=t.desc?" sorted-desc":" sorted"}function m(){var n,r,o=function n(r){var o=e[r];return function(){var e=o.defaultDescSort;if(t.index===r){e=!t.desc}s(r,e);f();t.index=r;t.desc=e;y()}};for(n=0;n<e.length;n+=1){if(e[n].sortable){r=a(n).querySelector(".sorter").parentElement;if(r.addEventListener){r.addEventListener("click",o(n))}else{r.attachEvent("onclick",o(n))}}}}return function(){if(!n()){return}e=u();i();c();y();m()}}();window.addEventListener("load",addSorting);
//# sourceMappingURL=sorter.js.map