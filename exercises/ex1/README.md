# Exercise 1 - Create And Run Your Application

In this exercise, we will create a UI5 TypeScript application from scratch and run it.

## Exercise 1.1 - Create Your Application With Yeoman

The first step is using the UI5 TypeScript application template available within the Easy UI5 Generator:

```sh
# Use a copy of "yo easy-ui5 ts-app" for the tutorial; make sure to take it from the "main_2022" branch
yo easy-ui5  SAP-samples/ui5-typescript-tutorial#main_2022
```

> :information_source: For this tutorial, a copy of the official generator for UI5 TypeScript applications is used since the official generator continuously evolves. With Easy UI5 Generator `3.5.0` it is possible to fetch a generator directly from a GitHub repository. This ensures a stable baseline for the tutorial. When starting new productive projects, it is highly recommended to use the official generator via: `yo easy-ui5 ts-app`.

Now Yeoman will ask you several questions necessary to create your application:

```
? How do you want to name this application? myapp
? Which namespace do you want to use? com.myorg
? Which framework do you want to use? OpenUI5
? Which framework version do you want to use? 1.113.0
? Who is the author of the application? <Your Name>
? Would you like to create a new directory for the application? Yes
```

After answering all questions (just press `Enter` to confirm the defaults), Yeoman runs `npm install` in the application directory. Once completed you can switch into the directory `com.myorg.myapp`.

**IMPORTANT: As detailed below, most potential errors at this stage result from the automatically triggered `npm install` not completing successfully. So the first and best thing to try in case of problems is to navigate to the application directory (`com.myorg.myapp`) in your console and re-run `npm install`.**

**In general, throughout the tutorial, in case of problems remember that outdated versions of tools may be the cause. One example is a vastly outdated VSCode version, which apparently comes with outdated TypeScript support and does not recognize the new [Template Literal Types](https://www.typescriptlang.org/docs/handbook/2/template-literal-types.html), which are generated by the ts-interface-generator tool in exercise 7. Another example is outdated UI5 build tools installed globally and interfering with the locally installed version.**

> :warning: **Remark:** `yo easy-ui5 ts-app` may run into an error when downloading and installing the `ts-app` template on Macs. In this case, an error message like this can appear:
>
> ```sh
> Error: EACCES: permission denied, mkdir '/path/to/project/ProjectName'
> at Error (native)
> at Object.fs.mkdirSync (fs.js:799:18)
> ...
> ```
>
> The issue appears as your global `node_modules` folder is located in your `usr/local/lib` folder for which owner permissions are needed to create/modify/delete files or folders. To overcome this issue run `chmod ugo+rwx /usr/local/lib/node_modules/generator-easy-ui5/plugin-generators` to ensure write permissions are granted.

> :warning: **Remark:** `npm install` may run into an error while finding dependencies. In this case, an error message like this can appear:
>
> ```sh
> npm ERR! code ETARGET
> npm ERR! notarget No matching version found for @typescript-eslint/eslint-plugin@^5.6.0.
> npm ERR! notarget In most cases you or one of your dependencies are requesting
> npm ERR! notarget a package version that doesn't exist.
> ```
>
> Just switch into the application directory (`com.myorg.myapp`) and re-run `npm install`.

> :warning: **Remark:** a failing `npm install` may also result in types not being found, with error messages like: `Cannot find module 'sap/ui/core/UIComponent' or its corresponding type declarations.ts(2307)`. Or it may result in errors like `'npm-run-all' is not recognized as an internal or external command` on the commandline when doing `npm start`.
> Also in this case switch into the application directory (`com.myorg.myapp`) and re-run `npm install`.

## Exercise 1.2 - Open Your Application

Switch into the new folder `com.myorg.myapp` and open the editor of your choice (e.g. [Visual Studio Code](https://code.visualstudio.com/)).

> :warning: **Remark:** make sure to open the folder `com.myorg.myapp` in the editor, not the folder above! Otherwise there may be errors indicating that `tsconfig.json` was not found!

In the project root of the UI5 TypeScript application you will find the `package.json` and `ui5.yaml` which indicate that this is a UI5 application project. Compared to the classic UI5 application projects, the characteristic of the UI5 TypeScript application project is that the sources can be found in the `src` folder instead of the `webapp` folder. Instead of a `Component.js` you will find a `Component.ts` next to the manifest:

```sh
project-root
\- src
   \- [...]
   \- Component.ts
   \- index.html
   \- manifest.json
\- [...]
\- package.json
\- README.md
\- ui5.yaml
```

More details about the project, the project structure and how to use this project can be found in the project root in the `README.md` file.

## Exercise 1.3 - Running Your Project

To get an impression about the project and what it finally provides, just run your project in the development mode with the following command (executed within the `com.myorg.myapp` directory):

```sh
npm start
```

This runs Babel in watch mode which transpiles and copies the sources from `src` to `webapp` folder. On top of the `webapp` folder, the UI5 tooling is running the development server to serve the application resources.

Finally, it opens your default browser which runs the application. While the application is running you can now modify the application code in your editor and directly see the changes once you saved them. This happens because the UI5 application project makes use of the [`ui5-middleware-livereload`](https://www.npmjs.com/package/ui5-middleware-livereload) which triggers a reload of the browser window whenever resources have been changed.

As long as you do not stop this `npm start` script, you will automatically see the updated app after doing the subsequent exercises.

## Summary

Congratulations, you have created your first UI5 application project using TypeScript from scratch and can now gather your first experience with UI5 and TypeScript. Let's go ahead and start developing the application further.

Continue to - [Exercise 2 - Create the Initial User Interface and Load Data](../ex2/README.md)
