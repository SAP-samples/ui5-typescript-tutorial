{"version":3,"sources":["../../src/controller/IncidenceDetail.controller.ts"],"names":["IncidenceDetail","Controller","onInit","model","JSONModel","getView","setModel","UIComponent","getRouterFor","getRoute","attachMatched","onRouteMatched","bind","event","bindElement","path","getParameter","id","onNavButtonPress","previousHash","History","getInstance","getPreviousHash","undefined","window","history","go","navTo"],"mappings":";AAUA;AACA;AACA;QACqBA,e,GAAwBC,U;AAE5CC,IAAAA,M,qBAAS;AACR,YAAMC,KAAK,GAAG,IAAIC,SAAJ,CAAc,4DAAd,CAAd;AACA,WAAKC,OAAL,GAAeC,QAAf,CAAwBH,KAAxB,EAA+B,kBAA/B;AAEAI,MAAAA,WAAW,CAACC,YAAZ,CAAyB,IAAzB,EAA+BC,QAA/B,CAAwC,sBAAxC,EAAgEC,aAAhE,CAA8E,KAAKC,cAAL,CAAoBC,IAApB,CAAyB,IAAzB,CAA9E;AACA,K;AAEDD,IAAAA,c,2BAAeE,K,EAAoC;AAClD,WAAKR,OAAL,GAAeS,WAAf,CAA2B;AAC1BC,QAAAA,IAAI,EAAE,WAAWF,KAAK,CAACG,YAAN,CAAmB,WAAnB,EAAgCC,EADvB;AAE1Bd,QAAAA,KAAK,EAAE;AAFmB,OAA3B;AAIA,K;AAEDe,IAAAA,gB,+BAAmB;AAClB,YAAMC,YAAY,GAAGC,OAAO,CAACC,WAAR,GAAsBC,eAAtB,EAArB;;AACA,UAAIH,YAAY,KAAKI,SAArB,EAAgC;AAAE;AACjCC,QAAAA,MAAM,CAACC,OAAP,CAAeC,EAAf,CAAkB,CAAC,CAAnB;AACA,OAFD,MAEO;AAAE;AACRnB,QAAAA,WAAW,CAACC,YAAZ,CAAyB,IAAzB,EAA+BmB,KAA/B,CAAqC,MAArC;AACA;AACD;;SAvBmB3B,e","sourcesContent":["import Controller from \"sap/ui/core/mvc/Controller\";\r\nimport History from \"sap/ui/core/routing/History\";\r\nimport UIComponent from \"sap/ui/core/UIComponent\";\r\nimport JSONModel from \"sap/ui/model/json/JSONModel\";\r\nimport Event from \"sap/ui/base/Event\";\r\n\r\ninterface EventWithIDArgument {\r\n\tgetParameter(name: \"arguments\"): {id: string}\r\n}\r\n\r\n/**\r\n * @name com.myorg.myapp.controller.IncidenceDetail\r\n */\r\nexport default class IncidenceDetail extends Controller {\r\n\r\n\tonInit() {\r\n\t\tconst model = new JSONModel(\"https://api.corona-zahlen.org/states/history/incidence/100\");\r\n\t\tthis.getView().setModel(model, \"incidenceHistory\");\r\n\r\n\t\tUIComponent.getRouterFor(this).getRoute(\"IncidenceDetailRoute\").attachMatched(this.onRouteMatched.bind(this));\r\n\t}\r\n\r\n\tonRouteMatched(event: Event & EventWithIDArgument) {\r\n\t\tthis.getView().bindElement({\r\n\t\t\tpath: \"/data/\" + event.getParameter(\"arguments\").id,\r\n\t\t\tmodel: \"incidenceHistory\"\r\n\t\t});\r\n\t}\r\n\r\n\tonNavButtonPress() {\r\n\t\tconst previousHash = History.getInstance().getPreviousHash();\r\n\t\tif (previousHash !== undefined) { // check needs to be like this (!==) because we want to go into this branch when hash is \"\"\r\n\t\t\twindow.history.go(-1);\r\n\t\t} else { // when user launched the detail page directly, so there is no previous page in this app's history, then explicitly go to the main page\r\n\t\t\tUIComponent.getRouterFor(this).navTo(\"main\");\r\n\t\t}\r\n\t}\r\n}"],"file":"IncidenceDetail.controller.js"}